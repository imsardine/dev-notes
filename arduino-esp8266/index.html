<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="canonical" href="https://imsardine.github.io/dev-notes/arduino-esp8266/">
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>Arduino / ESP8266 Arduino Core - 建造以學習 | 在電梯裡遇見雙胞胎</title>
    

    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/3.003/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.min.css">
    <link href="../cinder_extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.28/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="..">建造以學習 | 在電梯裡遇見雙胞胎</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/imsardine/dev-notes/blob/source/docs/arduino-esp8266.md">Edit on imsardine/dev-notes</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#ardunio-esp8266-arduino-core">Ardunio / ESP8266 Arduino Core</a></li>
            <li class="second-level"><a href="#troubleshooting">疑難排解</a></li>
                
                <li class="third-level"><a href="#espcomm_sync-failed">espcomm_sync failed ??</a></li>
            <li class="second-level"><a href="#setup">安裝設置</a></li>
                
            <li class="second-level"><a href="#reference">參考資料</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="ardunio-esp8266-arduino-core"><a href="../arduino/">Ardunio</a> / ESP8266 Arduino Core<a class="headerlink" href="#ardunio-esp8266-arduino-core" title="Permanent link"> #</a></h1>
<ul>
<li><a href="https://github.com/esp8266/Arduino#arduino-on-esp8266">Arduino on ESP8266 - esp8266/Arduino: ESP8266 core for Arduino</a> 這專案相當活躍，有 303 個 contributor、5824 個 fork，星星數也高達 8404!! #ril<ul>
<li>This project brings support for ESP8266 chip to the Arduino environment. It lets you write SKETCHES using familiar Arduino functions and libraries, and run them directly on ESP8266, no external microcontroller required. 在 ESP8266 上執行 Arduino 的程式。</li>
<li>ESP8266 Arduino core comes with libraries to communicate over WiFi using TCP and UDP, set up HTTP, mDNS, SSDP, and DNS servers, do OTA updates, use a file system in flash memory, work with SD cards, servos, SPI and I2C peripherals. 支援程度還滿高的!!</li>
</ul>
</li>
<li><a href="https://github.com/esp8266/Arduino/blob/2.4.2/cores/esp8266/core_esp8266_main.cpp#L117">Arduino/core_esp8266_main.cpp at 2.4.2 · esp8266/Arduino</a> 看起來跟 AVR Core 一樣有 <code>setup()</code> 與 <code>loop()</code>。</li>
<li><a href="https://en.wikipedia.org/wiki/NodeMCU#ESP8266_Arduino_Core">ESP8266 Arduino Core - NodeMCU - Wikipedia</a> #ril</li>
</ul>
<h2 id="troubleshooting">疑難排解<a class="headerlink" href="#troubleshooting" title="Permanent link"> #</a></h2>
<h3 id="espcomm_sync-failed">espcomm_sync failed ??<a class="headerlink" href="#espcomm_sync-failed" title="Permanent link"> #</a></h3>
<pre><code>...
warning: espcomm_sync failed
error: espcomm_open failed
error: espcomm_upload_mem failed
error: espcomm_upload_mem failed
</code></pre>

<ul>
<li><a href="https://arduino-esp8266.readthedocs.io/en/latest/faq/a01-espcomm_sync-failed.html">I am getting “espcomm_sync failed” error when trying to upload my ESP. How to resolve this issue? — ESP8266 Arduino Core 2.4.0 documentation</a> #ril<ul>
<li>This message indicates issue with uploading ESP module over a serial connection. If you are just starting with ESP, to reduce potential issues with uploading, select ESP board with INTEGRATED USB to serial converter. 內建 USB to UART 晶片的板子比較容易上手；ESP-01 就沒有內建。</li>
<li>Example boards with USB to serial converter build in, that will make your initial project development easier. 圖片沒有標示型號，看起來像是 NodeMCU 與 WeMOS D1</li>
<li>If you are using a Generic ESP8266 module, separate USB to serial converter and connect them by yourself, please make sure you have the following three things right: 1. Module is provided with enough power, 2. GPIO0, GPIO15 and CH_PD are connected using pull up / pull down resistors, 3. Module is put into boot loader mode. 重點還是要進 boot loader mode!!</li>
</ul>
</li>
</ul>
<h2 id="setup">安裝設置<a class="headerlink" href="#setup" title="Permanent link"> #</a></h2>
<ul>
<li><a href="https://github.com/esp8266/Arduino#installing-with-boards-manager">esp8266/Arduino: ESP8266 core for Arduino</a> #ril<ul>
<li>Starting with 1.6.4, Arduino allows installation of third-party platform packages using Boards Manager.</li>
<li>使用 Arduino IDE 1.8+，在 Preferneces &gt; Additional Board Manager URLs 輪入 <code>http://arduino.esp8266.com/stable/package_esp8266com_index.json</code> (多個 URL 用逗號隔開)，然後用 Tools &gt; Board &gt; Boards Manager&hellip; 安裝 <code>esp8266</code> platform 即可；Boards included in this package 板子的數量真是驚人!!</li>
<li>安裝完後 Tools &gt; Board 選 Generic ESP8266 Module，會發現 Tools 選單多了很多東西，File &gt; Examples 也多了 ESP8266 專有的範例!! 一樣有 ESP8266 &gt; Blink 可以測試。</li>
</ul>
</li>
<li><a href="https://arduino-esp8266.readthedocs.io/en/latest/faq/readme.html#why-esptool-is-not-listed-in-programmer-menu-how-do-i-upload-esp-without-it">Why esptool is not listed in “Programmer” menu? How do I upload ESP without it? - FAQ — ESP8266 Arduino Core 2.4.0 documentation</a> Do not worry about “Programmer” menu of Arduino IDE. It doesn’t matter what is selected in it — upload now always defaults to using <code>esptool</code>. 總是透過 programmer?</li>
<li><a href="https://github.com/esp8266/Arduino/issues/24">Burning the bootloader · Issue #24 · esp8266/Arduino</a> #ril<ul>
<li>rogerclarkmelb: Programmer 要選 esptool =&gt; 但實際上沒這個選項? 可以打開 Preferences &gt; Show verbose output during: compilation 及 upload 的選項；確實可以看到對 esptool 的調用。</li>
<li>nerdralph: There really isn&rsquo;t any point to the burn bootloader function. When you hold GPIO0 low during reset, it enters the ROM bootloader which can&rsquo;t be replaced. The upload button uses esptool to upload the sketch code to 0x0001000 and the espressif sdk lib to 0x0004000. It would be nice if the burn bootloader function was used to flash the sdk libs, and then the upload would only have to flash the sketch, saving ~145KB on each upload. ??</li>
</ul>
</li>
<li><a href="https://arduino.stackexchange.com/questions/45717/">arduino ide - Wiring when burning the bootloader of esp8266 - Arduino Stack Exchange</a> 不用刷 bootloader? #ril</li>
</ul>
<h2 id="reference">參考資料<a class="headerlink" href="#reference" title="Permanent link"> #</a></h2>
<ul>
<li><a href="https://github.com/esp8266/Arduino">esp8266/Arduino - GitHub</a></li>
</ul>
<p>文件：</p>
<ul>
<li><a href="https://arduino-esp8266.readthedocs.io/en/latest/">ESP8266 Arduino Core - Read the Docs</a></li>
</ul>
<p>相關：</p>
<ul>
<li><a href="../arduino-hardware/">Arduino Hardware</a></li>
<li><a href="../esptool/">esptool</a></li>
</ul></div>
        
        
    </div>

    <footer class="col-md-12 text-center">
        
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
        
        
    </footer>

    <script src="../js/jquery-3.3.1.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '..';
    </script>
    <!-- <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script> -->
    <script src="../js/base.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
